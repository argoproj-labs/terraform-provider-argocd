---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "argocd_application Resource - terraform-provider-argocd"
subcategory: ""
description: |-
  Manages applications https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#applications within ArgoCD.
---

# argocd_application (Resource)

Manages [applications](https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#applications) within ArgoCD.

## Example Usage

```terraform
# Kustomize application
resource "argocd_application" "kustomize" {
  metadata {
    name      = "kustomize-app"
    namespace = "argocd"
    labels = {
      test = "true"
    }
  }

  cascade = false # disable cascading deletion
  wait    = true

  spec {
    project = "myproject"

    destination {
      server    = "https://kubernetes.default.svc"
      namespace = "foo"
    }

    source {
      repo_url        = "https://github.com/kubernetes-sigs/kustomize"
      path            = "examples/helloWorld"
      target_revision = "master"
      kustomize {
        name_prefix = "foo-"
        name_suffix = "-bar"
        images      = ["hashicorp/terraform:light"]
        common_labels = {
          "this.is.a.common" = "la-bel"
          "another.io/one"   = "true"
        }
      }
    }

    sync_policy {
      automated {
        prune       = true
        self_heal   = true
        allow_empty = true
      }
      # Only available from ArgoCD 1.5.0 onwards
      sync_options = ["Validate=false"]
      retry {
        limit = "5"
        backoff {
          duration     = "30s"
          max_duration = "2m"
          factor       = "2"
        }
      }
    }

    ignore_difference {
      group         = "apps"
      kind          = "Deployment"
      json_pointers = ["/spec/replicas"]
    }

    ignore_difference {
      group = "apps"
      kind  = "StatefulSet"
      name  = "someStatefulSet"
      json_pointers = [
        "/spec/replicas",
        "/spec/template/spec/metadata/labels/bar",
      ]
      # Only available from ArgoCD 2.1.0 onwards
      jq_path_expressions = [
        ".spec.replicas",
        ".spec.template.spec.metadata.labels.bar",
      ]
    }
  }
}

# Helm application
resource "argocd_application" "helm" {
  metadata {
    name      = "helm-app"
    namespace = "argocd"
    labels = {
      test = "true"
    }
  }

  spec {
    destination {
      server    = "https://kubernetes.default.svc"
      namespace = "default"
    }

    source {
      repo_url        = "https://some.chart.repo.io"
      chart           = "mychart"
      target_revision = "1.2.3"
      helm {
        release_name = "testing"
        parameter {
          name  = "image.tag"
          value = "1.2.3"
        }
        parameter {
          name  = "someotherparameter"
          value = "true"
        }
        value_files = ["values-test.yml"]
        values = yamlencode({
          someparameter = {
            enabled   = true
            someArray = ["foo", "bar"]
          }
        })
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Block List, Min: 1, Max: 1) Standard Kubernetes object metadata. For more info see the [Kubernetes reference](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata). (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Min: 1, Max: 1) The application specification. (see [below for nested schema](#nestedblock--spec))

### Optional

- `cascade` (Boolean) Whether to applying cascading deletion when application is removed.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `wait` (Boolean) Upon application creation or update, wait for application health/sync status to be healthy/Synced, upon application deletion, wait for application to be removed, when set to true. Wait timeouts are controlled by Terraform Create, Update and Delete resource timeouts (all default to 5 minutes). **Note**: if ArgoCD decides not to sync an application (e.g. because the project to which the application belongs has a `sync_window` applied) then you will experience an expected timeout event if `wait = true`.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `annotations` (Map of String) An unstructured key value map stored with the applications.argoproj.io that may be used to store arbitrary metadata. More info: http://kubernetes.io/docs/user-guide/annotations
- `labels` (Map of String) Map of string keys and values that can be used to organize and categorize (scope and select) the applications.argoproj.io. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels
- `name` (String) Name of the applications.argoproj.io, must be unique. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names
- `namespace` (String) Namespace of the applications.argoproj.io, must be unique. Cannot be updated. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/

Read-Only:

- `generation` (Number) A sequence number representing a specific generation of the desired state.
- `resource_version` (String) An opaque value that represents the internal version of this applications.argoproj.io that can be used by clients to determine when applications.argoproj.io has changed. Read more: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
- `uid` (String) The unique in time and space value for this applications.argoproj.io. More info: http://kubernetes.io/docs/user-guide/identifiers#uids


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Required:

- `destination` (Block Set, Min: 1, Max: 1) Reference to the Kubernetes server and namespace in which the application will be deployed. (see [below for nested schema](#nestedblock--spec--destination))
- `source` (Block List, Min: 1, Max: 1) Location of the application's manifests or chart. (see [below for nested schema](#nestedblock--spec--source))

Optional:

- `ignore_difference` (Block List) Resources and their fields which should be ignored during comparison. More info: https://argo-cd.readthedocs.io/en/stable/user-guide/diffing/#application-level-configuration. (see [below for nested schema](#nestedblock--spec--ignore_difference))
- `info` (Block Set) List of information (URLs, email addresses, and plain text) that relates to the application. (see [below for nested schema](#nestedblock--spec--info))
- `project` (String) The project the application belongs to. Defaults to `default`.
- `revision_history_limit` (Number) Limits the number of items kept in the application's revision history, which is used for informational purposes as well as for rollbacks to previous versions. This should only be changed in exceptional circumstances. Setting to zero will store no history. This will reduce storage used. Increasing will increase the space used to store the history, so we do not recommend increasing it. Default is 10.
- `sync_policy` (Block List, Max: 1) Controls when and how a sync will be performed. (see [below for nested schema](#nestedblock--spec--sync_policy))

<a id="nestedblock--spec--destination"></a>
### Nested Schema for `spec.destination`

Required:

- `namespace` (String) Target namespace for the application's resources. The namespace will only be set for namespace-scoped resources that have not set a value for .metadata.namespace.

Optional:

- `name` (String) Name of the target cluster. Can be used instead of `server`.
- `server` (String) URL of the target cluster and must be set to the Kubernetes control plane API.


<a id="nestedblock--spec--source"></a>
### Nested Schema for `spec.source`

Required:

- `repo_url` (String) URL to the repository (Git or Helm) that contains the application manifests.

Optional:

- `chart` (String) Helm chart name. Must be specified for applications sourced from a Helm repo.
- `directory` (Block List, Max: 1) Path/directory specific options. (see [below for nested schema](#nestedblock--spec--source--directory))
- `helm` (Block List, Max: 1) Helm specific options. (see [below for nested schema](#nestedblock--spec--source--helm))
- `kustomize` (Block List, Max: 1) Kustomize specific options. (see [below for nested schema](#nestedblock--spec--source--kustomize))
- `path` (String) Directory path within the repository. Only valid for applications sourced from Git.
- `plugin` (Block List, Max: 1) Config management plugin specific options. (see [below for nested schema](#nestedblock--spec--source--plugin))
- `target_revision` (String) Revision of the source to sync the application to. In case of Git, this can be commit, tag, or branch. If omitted, will equal to HEAD. In case of Helm, this is a semver tag for the Chart's version.

<a id="nestedblock--spec--source--directory"></a>
### Nested Schema for `spec.source.directory`

Optional:

- `jsonnet` (Block List, Max: 1) Jsonnet specific options. (see [below for nested schema](#nestedblock--spec--source--directory--jsonnet))
- `recurse` (Boolean) Whether to scan a directory recursively for manifests.

<a id="nestedblock--spec--source--directory--jsonnet"></a>
### Nested Schema for `spec.source.directory.jsonnet`

Optional:

- `ext_var` (Block List) List of Jsonnet External Variables. (see [below for nested schema](#nestedblock--spec--source--directory--jsonnet--ext_var))
- `libs` (List of String) Additional library search dirs.
- `tla` (Block Set) List of Jsonnet Top-level Arguments (see [below for nested schema](#nestedblock--spec--source--directory--jsonnet--tla))

<a id="nestedblock--spec--source--directory--jsonnet--ext_var"></a>
### Nested Schema for `spec.source.directory.jsonnet.ext_var`

Optional:

- `code` (Boolean) Determines whether the variable should be evaluated as jsonnet code or treated as string.
- `name` (String) Name of Jsonnet variable.
- `value` (String) Value of Jsonnet variable.


<a id="nestedblock--spec--source--directory--jsonnet--tla"></a>
### Nested Schema for `spec.source.directory.jsonnet.tla`

Optional:

- `code` (Boolean) Determines whether the variable should be evaluated as jsonnet code or treated as string.
- `name` (String) Name of Jsonnet variable.
- `value` (String) Value of Jsonnet variable.




<a id="nestedblock--spec--source--helm"></a>
### Nested Schema for `spec.source.helm`

Optional:

- `parameter` (Block Set) Helm parameters which are passed to the helm template command upon manifest generation. (see [below for nested schema](#nestedblock--spec--source--helm--parameter))
- `release_name` (String) Helm release name. If omitted it will use the application name.
- `skip_crds` (Boolean) Whether to skip custom resource definition installation step (Helm's [--skip-crds](https://helm.sh/docs/chart_best_practices/custom_resource_definitions/)).
- `value_files` (List of String) List of Helm value files to use when generating a template.
- `values` (String) Helm values to be passed to helm template, typically defined as a block.

<a id="nestedblock--spec--source--helm--parameter"></a>
### Nested Schema for `spec.source.helm.parameter`

Optional:

- `force_string` (Boolean) Determines whether to tell Helm to interpret booleans and numbers as strings.
- `name` (String) Name of the Helm parameter.
- `value` (String) Value of the Helm parameter.



<a id="nestedblock--spec--source--kustomize"></a>
### Nested Schema for `spec.source.kustomize`

Optional:

- `common_annotations` (Map of String) List of additional annotations to add to rendered manifests.
- `common_labels` (Map of String) List of additional labels to add to rendered manifests.
- `images` (Set of String) List of Kustomize image override specifications.
- `name_prefix` (String) Prefix appended to resources for Kustomize apps.
- `name_suffix` (String) Suffix appended to resources for Kustomize apps.
- `version` (String) Version of Kustomize to use for rendering manifests.


<a id="nestedblock--spec--source--plugin"></a>
### Nested Schema for `spec.source.plugin`

Optional:

- `env` (Block Set) Environment variables passed to the plugin. (see [below for nested schema](#nestedblock--spec--source--plugin--env))
- `name` (String) Name of the plugin. Only set the plugin name if the plugin is defined in `argocd-cm`. If the plugin is defined as a sidecar, omit the name. The plugin will be automatically matched with the Application according to the plugin's discovery rules.

<a id="nestedblock--spec--source--plugin--env"></a>
### Nested Schema for `spec.source.plugin.env`

Optional:

- `name` (String) Name of the environment variable.
- `value` (String) Value of the environment variable.




<a id="nestedblock--spec--ignore_difference"></a>
### Nested Schema for `spec.ignore_difference`

Optional:

- `group` (String) The Kubernetes resource Group to match for.
- `jq_path_expressions` (Set of String) List of JQ path expression strings targeting the field(s) to ignore.
- `json_pointers` (Set of String) List of JSONPaths strings targeting the field(s) to ignore.
- `kind` (String) The Kubernetes resource Kind to match for.
- `name` (String) The Kubernetes resource Name to match for.
- `namespace` (String) The Kubernetes resource Namespace to match for.


<a id="nestedblock--spec--info"></a>
### Nested Schema for `spec.info`

Optional:

- `name` (String) Name of the information.
- `value` (String) Value of the information.


<a id="nestedblock--spec--sync_policy"></a>
### Nested Schema for `spec.sync_policy`

Optional:

- `automated` (Block Set, Max: 1) Whether to automatically keep an application synced to the target revision. (see [below for nested schema](#nestedblock--spec--sync_policy--automated))
- `retry` (Block List, Max: 1) Controls failed sync retry behavior. (see [below for nested schema](#nestedblock--spec--sync_policy--retry))
- `sync_options` (List of String) List of sync options. More info: https://argo-cd.readthedocs.io/en/stable/user-guide/sync-options/.

<a id="nestedblock--spec--sync_policy--automated"></a>
### Nested Schema for `spec.sync_policy.automated`

Optional:

- `allow_empty` (Boolean) Allows apps have zero live resources.
- `prune` (Boolean) Whether to delete resources from the cluster that are not found in the sources anymore as part of automated sync.
- `self_heal` (Boolean) Whether to revert resources back to their desired state upon modification in the cluster.


<a id="nestedblock--spec--sync_policy--retry"></a>
### Nested Schema for `spec.sync_policy.retry`

Optional:

- `backoff` (Block Set, Max: 1) Controls how to backoff on subsequent retries of failed syncs. (see [below for nested schema](#nestedblock--spec--sync_policy--retry--backoff))
- `limit` (String) Maximum number of attempts for retrying a failed sync. If set to 0, no retries will be performed.

<a id="nestedblock--spec--sync_policy--retry--backoff"></a>
### Nested Schema for `spec.sync_policy.retry.backoff`

Optional:

- `duration` (String) Duration is the amount to back off. Default unit is seconds, but could also be a duration (e.g. `2m`, `1h`), as a string.
- `factor` (String) Factor to multiply the base duration after each failed retry.
- `max_duration` (String) Maximum amount of time allowed for the backoff strategy. Default unit is seconds, but could also be a duration (e.g. `2m`, `1h`), as a string.





<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
# ArgoCD applications can be imported using an id consisting of `{name}:{namespace}`. E.g.

terraform import argocd_application.myapp myapp:argocd
```
